# ğŸ“˜ **NestJS Route Path Cheatsheet with âœ… Right / âŒ Wrong Examples**

---

## ğŸ”¹ 1. Optional Parameters

### âœ… Right:

```ts
@Get('{/:id}?')
getUser(@Param('id') id?: string) {}
// Matches: /users, /users/123
```

### âŒ Wrong:

```ts
@Get('/:id?')
// âŒ Doesn't work in NestJS v11+
```

---

## ğŸ”¹ 2. Optional Parameters with Regex

### âœ… Right:

```ts
@Get('product/:id(\\d+)?')
getProduct(@Param('id') id?: string) {}
// Matches: /product, /product/123 (only digits)
```

### âŒ Wrong:

```ts
@Get('product/:id?')
// âŒ Fails â€” optional params must be grouped with regex or {}
```

---

## ğŸ”¹ 3. Wildcard (Catch-All)

### âœ… Right:

```ts
@Get('*wildcard')
catchAll(@Param('wildcard') path: string) {}
// Matches: anything after /users/
```

### âŒ Wrong:

```ts
@Get('/users/*')
// âŒ Fails in v11+ â€” not supported anymore
```

---

## ğŸ”¹ 4. Repeatable Segments (`+` and `*`)

### âœ… Right:

```ts
@Get('docs/:path+')
getDocs(@Param('path') path: string[]) {}
// Matches: /docs/intro, /docs/intro/section1
```

```ts
@Get('files/:path*')
getFiles(@Param('path') path: string[]) {}
// Matches: /files, /files/a, /files/a/b
```

### âŒ Wrong:

```ts
@Get('docs/*')
// âŒ Fails â€” must be named like `:path+` or `*path`
```

---

## ğŸ”¹ 5. Optional Middle Segment

### âœ… Right:

```ts
@Get('{/:lang}?/about')
getAbout(@Param('lang') lang?: string) {}
// Matches: /about, /en/about
```

### âŒ Wrong:

```ts
@Get('/:lang?/about')
// âŒ Fails â€” use grouping `{}` for optional segment
```

---

## ğŸ”¹ 6. Complex Patterns Combined

### âœ… Right:

```ts
@Get('blog/{/:year}?/{/:month}?')
getBlog(@Param('year') year?: string, @Param('month') month?: string) {}
// Matches: /blog, /blog/2023, /blog/2023/12
```

---

## âœ… Summary Table

| Case                    | âœ… Right          | âŒ Wrong         |
| ----------------------- | ----------------- | ---------------- |
| Optional param          | `{/:id}?`         | `/:id?`          |
| Regex + optional        | `:id(\\d+)?`      | `:id?`           |
| Catch-all               | `*rest`           | `/*`             |
| Repeatable segment (1+) | `:slug+`          | `/*` or `:slug?` |
| Repeatable segment (0+) | `:slug*`          | `/*`             |
| Optional middle segment | `{/:lang}?/about` | `/:lang?/about`  |
